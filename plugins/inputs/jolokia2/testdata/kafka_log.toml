config = '''
  [[inputs.jolokia2]]
	default_tag_prefix = ""

    [[inputs.jolokia2.metric]]
      name       = "kafka_log"
      mbean      = "kafka.log:name=*,partition=*,topic=*,type=Log"
      field_name = "$1"
      tag_keys   = ["topic", "partition"]
''' 

response = '''
  [{
    "request": {
      "mbean": "kafka.log:name=*,partition=*,topic=*,type=Log",
      "type": "read"
    },
    "value": {
      "kafka.log:name=NumLogSegments,partition=0,topic=bar-logs,type=Log": {
        "Value": 1
      },
      "kafka.log:name=NumLogSegments,partition=0,topic=foo-logs,type=Log": {
        "Value": 1
      },
      "kafka.log:name=Size,partition=0,topic=foo-logs,type=Log": {
        "Value": 123
      },
      "kafka.log:name=LogEndOffset,partition=0,topic=bar-logs,type=Log": {
        "Value": 1
      },
      "kafka.log:name=LogStartOffset,partition=0,topic=foo-logs,type=Log": {
        "Value": 0
      },
      "kafka.log:name=LogEndOffset,partition=0,topic=foo-logs,type=Log": {
        "Value": 1
      },
      "kafka.log:name=Size,partition=0,topic=bar-logs,type=Log": {
        "Value": 123
      },
      "kafka.log:name=LogStartOffset,partition=0,topic=bar-logs,type=Log": {
        "Value": 0
      }
    },
    "timestamp": 1485053430,
    "status": 200
  }]
'''

[[expects]]
  measurement = "kafka_log"

  [expects.tags]
    topic     = "foo"
    partition = "0"

  [expects.fields]
    LogStartOffset = 0
    LogEndOffset   = 1
    NumLogSegments = 1
    Size           = 123

[[expects]]
  measurement = "kafka_log"

  [expects.tags]
    topic     = "bar"
    partition = "0"

  [expects.fields]
    LogStartOffset = 0
    LogEndOffset   = 1
    NumLogSegments = 1
    Size           = 456

