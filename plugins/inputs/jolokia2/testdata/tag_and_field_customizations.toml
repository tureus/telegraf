config = '''
  [[inputs.jolokia2]]
    default_field_prefix    = "foo"
    default_field_delimiter = "xxx"

    default_tag_prefix      = "bar"
    default_tag_delimiter   = "yyy"

    [[inputs.jolokia2.metric]]
      name  = "tag_and_field_defaults1"
      mbean = "tag_and_field_defaults1:biz=baz,fiz=faz"

    [[inputs.jolokia2.metric]]
      name  = "tag_and_field_defaults2"
      mbean = "tag_and_field_defaults2:biz=baz,fiz=faz"
      paths = ["test"]

    [[inputs.jolokia2.metric]]
      name  = "tag_and_field_customizations1"
      mbean = "tag_and_field_customizations1:biz=baz,fiz=faz"

      tag_delimiter = "YYY"
      tag_prefix    = "BAR"

      field_delimiter = "XXX"
      field_prefix    = "FOO"

    [[inputs.jolokia2.metric]]
      name  = "tag_and_field_customizations2"
      mbean = "tag_and_field_customizations2:biz=baz,fiz=faz"
      paths = ["test"]

      tag_delimiter = "YYY"
      tag_prefix    = "BAR"

      field_delimiter = "XXX"
      field_prefix    = "FOO"

	[[inputs.jolokia2.metric]]
	  name  = "clear_prefixes"
	  mbean = "clear_prefixes:biz=baz,fiz=faz"

	  tag_prefix   = ""
	  field_prefix = ""
'''

response = '''
  [{
    "request": {
      "mbean": "tag_and_field_defaults1:biz=baz,fiz=faz",
      "type": "read"
    },
    "value": {
      "hello": 123,
      "world": 456
    },
    "status": 200
  }, {
    "request": {
      "mbean": "tag_and_field_defaults2:biz=baz,fiz=faz",
      "attribute": "test",
      "type": "read"
    },
    "value": {
      "hello": 123,
      "world": 456
    },
    "status": 200
  }, {
    "request": {
      "mbean": "tag_and_field_customizations1:biz=baz,fiz=faz",
      "type": "read"
    },
    "value": {
      "hello": 123,
      "world": 456
    },
    "status": 200
  }, {
    "request": {
      "mbean": "tag_and_field_customizations2:biz=baz,fiz=faz",
      "attribute": "test",
      "type": "read"
    },
    "value": {
      "hello": 123,
      "world": 456
    },
    "status": 200
  }, {
    "request": {
      "mbean": "clear_prefixes:biz=baz,fiz=faz",
      "type": "read"
    },
    "value": {
      "hello": 123,
      "world": 456
    },
    "status": 200
  }]
'''

[[expects]]
  measurement = "tag_and_field_defaults1"

  [expects.tags]
    baryyybiz = "baz"
    baryyyfiz = "faz"

  [expects.fields]
    fooxxxhello = 123.0
    fooxxxworld = 456.0

[[expects]]
  measurement = "tag_and_field_defaults2"

  [expects.tags]
    baryyybiz = "baz"
    baryyyfiz = "faz"

  [expects.fields]
    fooxxxtestxxxhello = 123.0
    fooxxxtestxxxworld = 456.0

[[expects]]
  measurement = "tag_and_field_customizations1"

  [expects.tags]
    BARYYYbiz = "baz"
    BARYYYfiz = "faz"

  [expects.fields]
    FOOXXXhello = 123.0
    FOOXXXworld = 456.0

[[expects]]
  measurement = "tag_and_field_customizations2"

  [expects.tags]
    BARYYYbiz = "baz"
    BARYYYfiz = "faz"

  [expects.fields]
    FOOXXXtestXXXhello = 123.0
    FOOXXXtestXXXworld = 456.0

[[expects]]
  measurement = "clear_prefixes"

  [expects.tags]
    biz = "baz"
    fiz = "faz"

  [expects.fields]
    hello = 123.0
    world = 456.0
