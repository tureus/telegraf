config = '''
  [[inputs.jolokia2]]
    [[inputs.jolokia2.metric]]
      name            = "field_prefix_substitution"
      mbean           = "field_prefix_substitution:foo=*"
      field_separator = "_"
      field_prefix    = "$1"

    [[inputs.jolokia2.metric]]
      name         = "field_name_substitution"
      mbean        = "field_name_substitution:foo=*"
      field_name   = "$1"
      field_prefix = ""
'''

response = '''
  [{
    "request": {
      "mbean": "field_prefix_substitution:foo=*",
      "type": "read"
    },
    "value": {
      "field_prefix_substitution:foo=biz": 123,
      "field_prefix_substitution:foo=baz": 456
    },
    "status": 200
  }, {
    "request": {
      "mbean": "field_name_substitution:foo=*",
      "type": "read"
    },
    "value": {
      "field_name_substitution:foo=biz": 123,
      "field_name_substitution:foo=baz": 456
    },
    "status": 200
  }]
'''

[[expects]]
  measurement = "field_prefix_substitution"

  [expects.tags]

  [expects.fields]
    biz_value = 123.0
    baz_value = 456.0

[[expects]]
  measurement = "field_name_substitution"

  [expects.tags]

  [expects.fields]
    biz = 123.0
    baz = 456.0
