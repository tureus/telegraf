config = '''
  [[inputs.jolokia2]]
    default_field_separator = "_"
    default_tag_prefix      = ""

    [[inputs.jolokia2.metric]]
      name  = "jvm_gc"
      mbean = "java.lang:name=G1*,type=GarbageCollector"
      paths = [
        "CollectionTime",
        "CollectionCount"
      ]
      tag_keys = ["name"]

    [[inputs.jolokia2.metric]]
      name  = "jvm_memory"
      mbean = "java.lang:type=Memory"
      paths = [
        "HeapMemoryUsage",
        "NonHeapMemoryUsage",
        "ObjectPendingFinalizationCount",
      ]
      untag_keys = ["type"]
''' 

response = '''
  [{
    "request": {
      "mbean": "java.lang:name=G1*,type=GarbageCollector",
      "attribute": [
        "CollectionTime",
        "CollectionCount"
      ],
      "type": "read"
    },
    "value": {
      "java.lang:name=G1 Young Generation,type=GarbageCollector": {
        "CollectionTime": 123,
        "CollectionCount": 456
      },
      "java.lang:name=G1 Old Generation,type=GarbageCollector": {
        "CollectionTime": 321,
        "CollectionCount": 654
      }
    },
    "timestamp": 1485180256,
    "status": 200
  }, {
      "request": {
        "mbean": "java.lang:type=Memory",
        "attribute": [
          "HeapMemoryUsage",
          "NonHeapMemoryUsage",
          "ObjectPendingFinalizationCount"
        ],
        "type": "read"
      },
      "value": {
        "ObjectPendingFinalizationCount": 0,
        "HeapMemoryUsage": {
          "init": 1073741824,
          "committed": 1073741824,
          "max": 1073741824,
          "used": 415973072
        },
        "NonHeapMemoryUsage": {
          "init": 2555904,
          "committed": 45932544,
          "max": -1,
          "used": 45111832
        }
      },
      "timestamp": 1485057232,
      "status": 200
    }]
'''

[[expects]]
  measurement = "jvm_gc"

  [expects.tags]
    name = "G1 Young Generation"

  [expects.fields]
    CollectionTime  = 123.0
    CollectionCount = 456.0

[[expects]]
  measurement = "jvm_gc"

  [expects.tags]
    name = "G1 Old Generation"

  [expects.fields]
    CollectionTime  = 321.0
    CollectionCount = 654.0

[[expects]]
  measurement = "jvm_memory"

  [expects.tags]

  [expects.fields]
    HeapMemoryUsage_init           = 1073741824.0
    HeapMemoryUsage_committed      = 1073741824.0
    HeapMemoryUsage_max            = 1073741824.0
    HeapMemoryUsage_used           = 415973072.0
    NonHeapMemoryUsage_init        = 2555904.0
    NonHeapMemoryUsage_committed   = 45932544.0
    NonHeapMemoryUsage_max         = -1.0
    NonHeapMemoryUsage_used        = 45111832.0
    ObjectPendingFinalizationCount = 0.0
